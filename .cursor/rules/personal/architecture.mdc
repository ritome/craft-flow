# アーキテクチャルール

## レイヤー構造
- Controller：入力受付、レスポンス返却のみ
- Service：業務ロジック
- Repository：DB 読み書き
- DTO：データ受け渡し
- Job：重い PDF 処理を担当
- Model：Eloquent

## PDF 処理フロー
1. PDF アップロード（複数）
2. 一時保存（storage/app/pdf_temp）
3. PDF → テキスト抽出
4. レジフォーマット別のパーサーで構造化
5. 集計サービスで集約
6. DB 永続化（履歴が必要な場合）
7. Excel 出力サービスで生成
